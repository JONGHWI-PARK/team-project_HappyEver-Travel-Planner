![happyever](https://user-images.githubusercontent.com/100775231/184552321-ffdbcb8c-f8b6-469a-ace7-594241f0ae3c.gif)

<br>

# team-project_HappyEver-Travel-Planner

<br>

## ğŸš€ ìš°ë¦¬ëŠ” í•´í”¼í•˜ì¡° - ì›¹ í˜ì´ì§€ ê°œë°œ í”„ë¡œì íŠ¸

<br>

### ğŸ›« Happy Ever êµ­ë‚´ ì—¬í–‰ í”Œë˜ë„ˆ
> - MVC 2 Model íŒ¨í„´ì„ í™œìš©í•œ JSP ì›¹ ê°œë°œ í”„ë¡œì íŠ¸
> - í•œêµ­ê´€ê´‘ê³µì‚¬ì—ì„œ ì œê³µí•˜ëŠ” Tour 3.0 APIì™€ ì§€ë„ API ë“±ì„ ì´ìš©í•´ ì§ê´€ì ì¸ UIë¡œ ëˆ„êµ¬ë‚˜ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì—¬í–‰ í”Œë˜ë„ˆ ì›¹ ì‚¬ì´íŠ¸

</br>

## 1. ì œì‘ ê¸°ê°„ & ì°¸ì—¬ ì¸ì›
- 2022ë…„ 05ì›” 17ì¼ ~ 2022ë…„ 07ì›” 01ì¼
- íŒ€ í”„ë¡œì íŠ¸ (7ëª…)

</br>

## 2. íŒ€ì› ì†Œê°œ
- ì´ 7ëª… (ë³¸ì¸ í¬í•¨ ë©€í‹° í¬ì§€ì…˜)
  - ì •ìœ ì„­ (ì¡°ì¥) - ê²Œì‹œíŒ, ì¼ì • ë§Œë“¤ê¸°
  - ë°•ì¢…íœ˜ - ë§ˆì´í˜ì´ì§€, ë°œí‘œ
  - ìœ ìŠ¹ì¬ - íšŒì›ê°€ì…
  - ë¬¸ê¸°ì—° - ë©”ì¸í˜ì´ì§€, ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°, footer
  - ì¡°í˜„í•˜ - ë©”ì¸í˜ì´ì§€, ë¡œê·¸ì¸ & ë¡œê·¸ì•„ì›ƒ, header
  - ê¹€íƒœê²½ - ì¼ì • ë§Œë“¤ê¸°, í”¼í”¼í‹° ì œì‘
  - ë¬¸ìŠ¹ìš° - ì¼ì • ë§Œë“¤ê¸°

<br>

## 3. ë‹´ë‹¹í•œ íŒŒíŠ¸
- ë§ˆì´í˜ì´ì§€
  - íšŒì› ì •ë³´ ìˆ˜ì • ë° ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„
  - í˜ì´ì§€ ì „í™˜ ê¸°ëŠ¥ êµ¬í˜„
  - ë©”ë‰´ì— ë”°ë¥¸ ì°½ ì „í™˜ ê¸°ëŠ¥ êµ¬í˜„
  - ë§ˆì´í˜ì´ì§€ í”„ë¡ íŠ¸ë‹¨ êµ¬í˜„
- í”„ë¡œì íŠ¸ ë°œí‘œ

<br>

## 4. ì‚¬ìš© ê¸°ìˆ 
- Back-End - Java 8, JSP
- IDE - Eclipse
- DBMS - Oracle SQL / DBeaver
- Server - Apache Tomcat 8.5
- Front-End - HTML 5, CSS 3, JavaScript, Jquery
- ETC - Google Chrome, Discord

</br>

## 5. ì„¤ê³„
- í™”ë©´ êµ¬í˜„ ì‚¬ì´íŠ¸ ë§µ

<br>

![image](https://user-images.githubusercontent.com/100775231/196438704-c0321d5f-0b73-4ab0-aceb-71742c97e6cc.png)

<br>

- ERD

<br>

![image](https://user-images.githubusercontent.com/100775231/196438761-8242bd14-ca5b-4558-9968-8bce669e0505.png)

<br>

## 6. í™”ë©´ êµ¬ì„± ë° ê¸°ëŠ¥
### 6-1. ë©”ì¸ í˜ì´ì§€
<details>
<summary><b>ë©”ì¸í™”ë©´ êµ¬ì„± ìƒì„¸ë³´ê¸°</b></summary>
<div markdown="1">
  
  <br>
  
  ![image](https://user-images.githubusercontent.com/100775231/196492086-a0666523-2146-4441-95a7-9fb7c7396f67.png)
  
  ![image](https://user-images.githubusercontent.com/100775231/196496356-feba2219-ddc4-4202-975a-02e9846182d6.png)
  
  ![image](https://user-images.githubusercontent.com/100775231/196492637-f48d1c50-62f6-4370-a0ad-a3b98db09137.png)
  
- ìºëŸ¬ì…€ì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ ê¸°ëŠ¥ êµ¬í˜„ (3ì¥ì˜ ì‚¬ì§„ ì‚¬ìš©) : ğŸ“Œ [ì½”ë“œ í™•ì¸]()
- ë¡œê·¸ì¸ ì‹œ JSTL ì¡°ê±´ë¬¸ì„ í†µí•´ usernameì„ ë°›ì•„ í‘œì‹œë˜ë„ë¡ êµ¬í˜„
- ë¹„ë¡œê·¸ì¸ ì‹œ, ì‚¬ìš© ì œí•œ ê¸°ëŠ¥ êµ¬í˜„
- ì—¬í–‰ì§€ ê²€ìƒ‰ ì‹œ, ê²€ìƒ‰ ê²°ê³¼ê°€ ë™ì ìœ¼ë¡œ ë³€í•˜ë„ë¡ êµ¬í˜„
- ëª¨ë“  í˜ì´ì§€ì— í—¤ë” ë° í‘¸í„° ì—°ê²°  
</div>
</details>

### 6-2. ë¡œê·¸ì¸ & ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° í˜ì´ì§€
<details>
<summary><b>í•µì‹¬ ê¸°ëŠ¥</b></summary>
<div markdown="1">
  
  <br>
  
  ![login-min](https://user-images.githubusercontent.com/100775231/196504597-b732940a-1788-4840-a9d0-4b13fea74b6e.gif)
  
  ![image](https://user-images.githubusercontent.com/100775231/196500429-cd4a7c40-3160-4b16-9ce9-f233b4428334.png)
  
  - ë¡œê·¸ì¸
    - headerì— ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ, ëª¨ë‹¬ì°½ìœ¼ë¡œ ë¡œê·¸ì¸ í˜ì´ì§€ êµ¬í˜„
    - ë¡œê·¸ì¸ ì„±ê³µ ì‹œ, sessionì— íšŒì› ì •ë³´ê°€ ì €ì¥ë˜ì–´ ë¡œê·¸ì¸ì´ ìœ ì§€ë˜ë„ë¡ êµ¬í˜„ â†’ headerì— ì‚¬ìš©ì ì´ë¦„ì´ í‘œì‹œë˜ë„ë¡ êµ¬í˜„
    - íšŒì› ì •ë³´ê°€ í‹€ë ¸ì„ ë•Œ, alertìœ¼ë¡œ ì•ˆë‚´ë¬¸êµ¬ ì¶œë ¥
  
  <br>
  
  ![image](https://user-images.githubusercontent.com/100775231/196500533-9950c1cf-52f4-418f-81dd-c2d65505e5a2.png)
  
  - ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°
    - DBì— ì €ì¥ëœ ì´ë©”ì¼ê³¼ ì´ë¦„ìœ¼ë¡œ íšŒì› ì •ë³´ í™•ì¸ í›„, ì´ë©”ì¼ë¡œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ ì „ì†¡ ê¸°ëŠ¥ êµ¬í˜„  
</div>
</details>

### 6-3. íšŒì›ê°€ì… í˜ì´ì§€
<details>
<summary><b>í•µì‹¬ ê¸°ëŠ¥</b></summary>
<div markdown="1">
  
  <br>
  
  ![image](https://user-images.githubusercontent.com/100775231/196507219-e165d7b3-1ab6-4dd2-946b-87a13563ac7f.png)
  
  - ì •ê·œ í‘œí˜„ì‹ì„ ì‚¬ìš©í•˜ì—¬ íšŒì› ì •ë³´ì˜ ìœ íš¨ì„±ê²€ì‚¬ë¥¼ ì§„í–‰í•˜ë„ë¡ êµ¬í˜„
</div>
</details>

### 6-4. ë§ˆì´ í˜ì´ì§€
<details>
<summary><b>í•µì‹¬ ê¸°ëŠ¥</b></summary>
<div markdown="1">
  
  <br>
  
  ![image](https://user-images.githubusercontent.com/100775231/196507975-c6c7b705-6053-4299-a7ba-6bedc41d5fb8.png)
  
  ![image](https://user-images.githubusercontent.com/100775231/196508037-3bf8ad2a-ec8e-4af8-b41c-f77c65b5b064.png)
  
  - DBì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ íšŒì› ì •ë³´ê°€ ë‚˜ì˜¤ë„ë¡ êµ¬í˜„
  - íšŒì› ìˆ˜ì • ë° íƒˆí‡´ë¥¼ í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ìœ¼ë©° ë³€ê²½ëœ ì‚¬í•­ì€ DBì— ì €ì¥ë˜ë„ë¡ êµ¬í˜„
  - ë©”ë‰´ë¥¼ ëˆ„ë¥´ë©´ í˜ì´ì§€ ì „í™˜ì´ ì•„ë‹Œ ê° ë©”ë‰´ì˜ ì°½ìœ¼ë¡œ ì „í™˜í•˜ë„ë¡ êµ¬í˜„ : ğŸ“Œ [ì½”ë“œ í™•ì¸]()
  - í™ˆìœ¼ë¡œ ë²„íŠ¼ í´ë¦­ì‹œ ë©”ì¸ ë©”ë‰´ í˜ì´ì§€ë¡œ ì „í™˜ë˜ë„ë¡ êµ¬í˜„
</div>
</details>

### 6-5. ì¼ì • ë§Œë“¤ê¸° í˜ì´ì§€
<details>
<summary><b>í•µì‹¬ ê¸°ëŠ¥</b></summary>
<div markdown="1">
  
  <br>
  
  ![image](https://user-images.githubusercontent.com/100775231/196512420-b3bdc367-8755-4e33-860d-08893d9a820c.png)
  
  - ë©”ì¸í˜ì´ì§€ì—ì„œ ì„ íƒí•œ ì—¬í–‰ì§€ë¥¼ ì§€ë„ APIì— ë„ìš°ê³ , í•œêµ­ê´€ê´‘ê³µì‚¬ APIë¥¼ í†µí•´ ê°€ì ¸ì˜¨ ì¶”ì²œ ì—¬í–‰ì§€ë¥¼ ëª©ë¡ ë° ì§€ë„ ìœ„ì— ë³´ì—¬ì¤€ë‹¤.
  - ì—¬í–‰ ë‚ ì§œ ì…ë ¥ ì‹œ, ì¼ ìˆ˜ ë§Œí¼ ì¢Œì¸¡ì— DAYê°€ ìƒì„±ë˜ê³ , DAYë§ˆë‹¤ ì—¬í–‰ì§€ ì„¤ì • ê°€ëŠ¥
  - ê° DAYëŠ” ì„œë¡œ ë…ë¦½ì 
  
  <br>
  
  ğŸ‘‰ í•µì‹¬ ì½”ë“œ
  > ### í•œêµ­ ê´€ê´‘ ê³µì‚¬ APIë¥¼ ì´ìš©í•´ ë°›ì•„ì˜¨ JSON í˜•ì‹ì˜ ë°ì´í„°ë¥¼ í…Œì´ë¸”ì— INSERT í•˜ê¸°
  > - APIë¥¼ í†µí•´ JSON í˜•ì‹ìœ¼ë¡œ ë°›ì•„ì˜¨ ë°ì´í„° ì¤‘ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶”ë ¤ LIST ê°ì²´ì— ë‹´ì•„ Parameterë¡œ ë„˜ê¸´ë‹¤.
  > - ë„˜ì–´ì˜¨ ë°ì´í„°ë¥¼ DB í…Œì´ë¸”ê³¼ ë™ì¼í•œ ìˆœì„œì™€ íƒ€ì…ìœ¼ë¡œ ì„¸íŒ…í•´ INSERT í•œë‹¤. (MVC2 ë°©ë²• ì‚¬ìš©)
  
  <br>
  
  > tourist.js : ğŸ“Œ [ì½”ë“œ í™•ì¸]()
  
  ```javascript
  
  $(function(){
	getJson();
});

// jsonì„ ì½ì–´ì˜¤ëŠ” í•¨ìˆ˜
function getJson() {
	// Seoul.jsonì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´ -> function(data)ë¡œ ì²˜ë¦¬ -> dataì— ì €ì¥
	$.getJSON("areaBasedList.json", function(data) {
		$.each(data, function(key, val) {
			if( key == "SID" ) {
				$("table").attr("border", "1");
				
				// APIì—ì„œ ë°›ì•„ ì˜¬ ë°ì´í„°ë“¤
				$("thead").append(
					"<tr>"+
						"<th>"+val.ADDR1+"</th>"+	
						"<th>"+val.AREACODE+"</th>"+	
						"<th>"+val.SIGUNGUCODE+"</th>"+
						"<th>"+val.FIRSTIMAGE2+"</th>"+	
						"<th>"+val.READCOUNT+"</th>"+	
						"<th>"+val.TITLE+"</th>"+	
					"</tr>"
				);
			} else {
				var list = val;		// list ë³€ìˆ˜ : ë°°ì—´ë¡œ ì •ì˜
				for( var i=0; i<list.length; i++ ) {
					var str = list[i];		// str ë³€ìˆ˜ : list ë°°ì—´ ì•ˆì— ìˆëŠ” í•˜ë‚˜ì˜ json ë°ì´í„°
					$("tbody").append(
						"<tr>"+
							"<td>"+str.addr1+"</td>"+
							"<td>"+str.areacode+"</td>"+
							"<td>"+str.sigungucode+"</td>"+
							"<td>"+str.firstimage2+"</td>"+
							"<td>"+str.readcount+"</td>"+
							"<td>"+str.title+"</td>"+
							// dbì— ê°’ë“¤ì„ ';'ë¡œ ë‚˜ëˆ ì„œ ë„˜ê²¨ì¤Œ
							"<input type='hidden' name='list' value='"+
							str.addr1+";"+str.areacode+";"+str.sigungucode+";"
							+str.firstimage2+";"+str.readcount+";"+str.title+"'>"+
						"</tr>"
					);
				}
			}
		});
	});
}
  ```
                                     
  > AddTourlistAction.java : ğŸ“Œ [ì½”ë“œ í™•ì¸]()
  ```java
  package com.happy.app.action;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.happy.app.action.Action;
import com.happy.app.action.ActionForward;
import com.happy.app.dao.TourlistDAO;
import com.happy.app.dto.TourlistDTO;

public class AddTourlistAction implements Action {

	@Override
	public ActionForward execute(HttpServletRequest req, HttpServletResponse resp) {
		System.out.println("AddTourlistAction ë„ì°©");
		ActionForward forward = new ActionForward();
		TourlistDAO tdao = new TourlistDAO();
		
//		tdao.delete();
		String[] Tourlist = req.getParameterValues("list");
		
		List<TourlistDTO> tdtos = new ArrayList<TourlistDTO>();
		
		for( int i = 0; i < Tourlist.length; i++ ) {
			String[] tmp = Tourlist[i].split(";");
			System.out.println(Arrays.toString(tmp));
			
			TourlistDTO tdto = new TourlistDTO(tmp[0], Integer.parseInt(tmp[1]), 
                                                    Integer.parseInt(tmp[2]), tmp[3], Integer.parseInt(tmp[4]), tmp[5]);
			
			tdtos.add(tdto);
		}
		
		tdao.AddTourlist(tdtos);
		
		forward.setRedirect(true);
		forward.setPath( req.getContextPath() + "/tour/tourlist.jsp");
		
		return forward;
	}
}
  ```
</div>
</details>

### 6-6. ê²Œì‹œíŒ í˜ì´ì§€
<details>
<summary><b>í•µì‹¬ ê¸°ëŠ¥</b></summary>
<div markdown="1">
  
  <br>
  
  ![image](https://user-images.githubusercontent.com/100775231/196513454-6c6fbbf5-37f8-4afe-9eb6-a003cebbfdf4.png)
  
  - ì—¬í–‰ í‚¤ì›Œë“œ í´ë¦­ ë° ì—¬í–‰ì§€ ê²€ìƒ‰ ì‹œ, ë™ì ìœ¼ë¡œ ë³€í•˜ëŠ” ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„
</div>
</details>

<br>

## 7. íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
### 5.1. ì»¨í…ì¸  í•„í„°ì™€ í˜ì´ì§• ì²˜ë¦¬ ë¬¸ì œ
- ì €ëŠ” ì´ ì„œë¹„ìŠ¤ê°€ í˜ì´ìŠ¤ë¶ì´ë‚˜ ì¸ìŠ¤íƒ€ê·¸ë¨ ì²˜ëŸ¼ ê°€ë³ê²Œ, ìì£¼ ì‚¬ìš©ë˜ê¸¸ ë°”ë¼ëŠ” ë§ˆìŒìœ¼ë¡œ ê°œë°œí–ˆìŠµë‹ˆë‹¤.  
ë•Œë¬¸ì— í˜ì´ì§• ì²˜ë¦¬ë„ ë¬´í•œ ìŠ¤í¬ë¡¤ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.

- í•˜ì§€ë§Œ [ë¬´í•œìŠ¤í¬ë¡¤, í˜ì´ì§• í˜¹ì€ â€œë”ë³´ê¸°â€ ë²„íŠ¼? ì–´ë–¤ ê±¸ ì¨ì•¼í• ê¹Œ](https://cyberx.tistory.com/82) ë¼ëŠ” ê¸€ì„ ì½ê³  ë¬´í•œ ìŠ¤í¬ë¡¤ì˜ ë‹¨ì ë“¤ì„ ì•Œê²Œ ë˜ì—ˆê³ ,  
ë‹¤ì–‘í•œ ê¸°ì¤€(ì¹´í…Œê³ ë¦¬, ì‚¬ìš©ì, ë“±ë¡ì¼, ì¸ê¸°ë„)ì˜ ê²Œì‹œë¬¼ í•„í„° ê¸°ëŠ¥ì„ ë„£ì–´ì„œ ì´ë¥¼ ë³´ì™„í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤.

- ê·¸ëŸ°ë° ê²Œì‹œë¬¼ì´ í•„í„°ë§ ëœ ìƒíƒœì—ì„œ ë¬´í•œ ìŠ¤í¬ë¡¤ì´ ë™ì‘í•˜ë©´,  
í•„í„°ë§ ëœ ê²Œì‹œë¬¼ë“¤ë§Œ DBì— ìš”ì²­í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì•„ë˜ì˜ **ê¸°ì¡´ ì½”ë“œ** ì²˜ëŸ¼ ê° í•„í„°ë³„ë¡œ ë‹¤ë¥¸ Queryë¥¼ ë‚ ë ¤ì•¼ í–ˆìŠµë‹ˆë‹¤.

<details>
<summary><b>ê¸°ì¡´ ì½”ë“œ</b></summary>
<div markdown="1">

~~~java
/**
 * ê²Œì‹œë¬¼ Top10 (ê¸°ì¤€: ëŒ“ê¸€ ìˆ˜ + ì¢‹ì•„ìš” ìˆ˜)
 * @return ì¸ê¸°ìˆœ ìƒìœ„ 10ê°œ ê²Œì‹œë¬¼
 */
public Page<PostResponseDto> listTopTen() {

    PageRequest pageRequest = PageRequest.of(0, 10, Sort.Direction.DESC, "rankPoint", "likeCnt");
    return postRepository.findAll(pageRequest).map(PostResponseDto::new);
}

/**
 * ê²Œì‹œë¬¼ í•„í„° (Tag Name)
 * @param tagName ê²Œì‹œë¬¼ ë°•ìŠ¤ì—ì„œ í´ë¦­í•œ íƒœê·¸ ì´ë¦„
 * @param pageable í˜ì´ì§• ì²˜ë¦¬ë¥¼ ìœ„í•œ ê°ì²´
 * @return í•´ë‹¹ íƒœê·¸ê°€ í¬í•¨ëœ ê²Œì‹œë¬¼ ëª©ë¡
 */
public Page<PostResponseDto> listFilteredByTagName(String tagName, Pageable pageable) {

    return postRepository.findAllByTagName(tagName, pageable).map(PostResponseDto::new);
}

// ... ê²Œì‹œë¬¼ í•„í„° (Member) ìƒëµ 

/**
 * ê²Œì‹œë¬¼ í•„í„° (Date)
 * @param createdDate ê²Œì‹œë¬¼ ë°•ìŠ¤ì—ì„œ í´ë¦­í•œ ë‚ ì§œ
 * @return í•´ë‹¹ ë‚ ì§œì— ë“±ë¡ëœ ê²Œì‹œë¬¼ ëª©ë¡
 */
public List<PostResponseDto> listFilteredByDate(String createdDate) {

    // ë“±ë¡ì¼ 00ì‹œë¶€í„° 24ì‹œê¹Œì§€
    LocalDateTime start = LocalDateTime.of(LocalDate.parse(createdDate), LocalTime.MIN);
    LocalDateTime end = LocalDateTime.of(LocalDate.parse(createdDate), LocalTime.MAX);

    return postRepository
                    .findAllByCreatedAtBetween(start, end)
                    .stream()
                    .map(PostResponseDto::new)
                    .collect(Collectors.toList());
    }
~~~

</div>
</details>

- ì´ ë•Œ ì¹´í…Œê³ ë¦¬(tag)ë¡œ ê²Œì‹œë¬¼ì„ í•„í„°ë§ í•˜ëŠ” ê²½ìš°,  
ê° ê²Œì‹œë¬¼ì€ ìµœëŒ€ 3ê°œê¹Œì§€ì˜ ì¹´í…Œê³ ë¦¬(tag)ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆì–´ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ë¥¼ í¬í•¨í•˜ëŠ” ëª¨ë“  ê²Œì‹œë¬¼ì„ ì§ˆì˜í•´ì•¼ í–ˆê¸° ë•Œë¬¸ì—  
- ì•„ë˜ **ê°œì„ ëœ ì½”ë“œ**ì™€ ê°™ì´ QueryDSLì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì†Œ ë³µì¡í•œ Queryë¥¼ ì‘ì„±í•˜ë©´ì„œë„ í˜ì´ì§• ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

<details>
<summary><b>ê°œì„ ëœ ì½”ë“œ</b></summary>
<div markdown="1">

~~~java
/**
 * ê²Œì‹œë¬¼ í•„í„° (Tag Name)
 */
@Override
public Page<Post> findAllByTagName(String tagName, Pageable pageable) {

    QueryResults<Post> results = queryFactory
            .selectFrom(post)
            .innerJoin(postTag)
                .on(post.idx.eq(postTag.post.idx))
            .innerJoin(tag)
                .on(tag.idx.eq(postTag.tag.idx))
            .where(tag.name.eq(tagName))
            .orderBy(post.idx.desc())
                .limit(pageable.getPageSize())
                .offset(pageable.getOffset())
            .fetchResults();

    return new PageImpl<>(results.getResults(), pageable, results.getTotal());
}
~~~

</div>
</details>

</br>

## 6. ê·¸ ì™¸ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
<details>
<summary>npm run dev ì‹¤í–‰ ì˜¤ë¥˜</summary>
<div markdown="1">

- Webpack-dev-server ë²„ì „ì„ 3.0.0ìœ¼ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œë¡œ í•´ê²°
- `$ npm install â€”save-dev webpack-dev-server@3.0.0`

</div>
</details>

<details>
<summary>vue-devtools í¬ë¡¬ìµìŠ¤í…ì…˜ ì¸ì‹ ì˜¤ë¥˜ ë¬¸ì œ</summary>
<div markdown="1">
  
  - main.js íŒŒì¼ì— `Vue.config.devtools = true` ì¶”ê°€ë¡œ í•´ê²°
  - [https://github.com/vuejs/vue-devtools/issues/190](https://github.com/vuejs/vue-devtools/issues/190)
  
</div>
</details>

<details>
<summary>ElementUI input ë°•ìŠ¤ì—ì„œ `v-on:keyup.enter="ë©”ì†Œë“œëª…"`ì´ ì •ìƒ ì‘ë™ ì•ˆí•˜ëŠ” ë¬¸ì œ</summary>
<div markdown="1">
  
  - `v-on:keyup.enter.native=""` ì™€ ê°™ì´ .native ì¶”ê°€ë¡œ í•´ê²°
  
</div>
</details>

<details>
<summary> Post ëª©ë¡ ì¶œë ¥ì‹œì— Member ê°ì²´ ì¶œë ¥ ì—ëŸ¬ </summary>
<div markdown="1">
  
  - ì—ëŸ¬ ë©”ì„¸ì§€(500ì—ëŸ¬)
    - No serializer found for class org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationConfig.SerializationFeature.FAIL_ON_EMPTY_BEANS)
  - í•´ê²°
    - Post ì—”í‹°í‹°ì— @ManyToOne ì—°ê´€ê´€ê³„ ë§¤í•‘ì„ LAZY ì˜µì…˜ì—ì„œ ê¸°ë³¸(EAGER)ì˜µì…˜ìœ¼ë¡œ ìˆ˜ì •
  
</div>
</details>
    
<details>
<summary> í”„ë¡œì íŠ¸ë¥¼ git initìœ¼ë¡œ ìƒì„± í›„ ë°œìƒí•˜ëŠ” npm run dev/build ì˜¤ë¥˜ ë¬¸ì œ </summary>
<div markdown="1">
  
  ```jsx
    $ npm run dev
    npm ERR! path C:\Users\integer\IdeaProjects\pilot\package.json
    npm ERR! code ENOENT
    npm ERR! errno -4058
    npm ERR! syscall open
    npm ERR! enoent ENOENT: no such file or directory, open 'C:\Users\integer\IdeaProjects\pilot\package.json'
    npm ERR! enoent This is related to npm not being able to find a file.
    npm ERR! enoent

    npm ERR! A complete log of this run can be found in:
    npm ERR!     C:\Users\integer\AppData\Roaming\npm-cache\_logs\2019-02-25T01_23_19_131Z-debug.log
  ```
  
  - ë‹¨ìˆœíˆ npm run dev/build ëª…ë ¹ì„ ì…ë ¥í•œ ê²½ë¡œê°€ ë¬¸ì œì˜€ë‹¤.
   
</div>
</details>    

<details>
<summary> íƒœê·¸ ì„ íƒí›„ ë“±ë¡í•˜ê¸° ëˆ„ë¥¼ ë•Œ `object references an unsaved transient instance - save the transient instance before flushing` ì˜¤ë¥˜</summary>
<div markdown="1">
  
  - Post ì—”í‹°í‹°ì˜ @ManyToManyì— ì˜ì†ì„± ì „ì´(cascade=CascadeType.ALL) ì¶”ê°€
    - JPAì—ì„œ Entityë¥¼ ì €ì¥í•  ë•Œ ì—°ê´€ëœ ëª¨ë“  EntityëŠ” ì˜ì†ìƒíƒœì—¬ì•¼ í•œë‹¤.
    - CascadeType.PERSIST ì˜µì…˜ìœ¼ë¡œ ë¶€ëª¨ì™€ ìì‹ Enitityë¥¼ í•œ ë²ˆì— ì˜ì†í™”í•  ìˆ˜ ìˆë‹¤.
    - ì°¸ê³ 
        - [https://stackoverflow.com/questions/2302802/object-references-an-unsaved-transient-instance-save-the-transient-instance-be/10680218](https://stackoverflow.com/questions/2302802/object-references-an-unsaved-transient-instance-save-the-transient-instance-be/10680218)
   
</div>
</details>    

<details>
<summary> JSON: Infinite recursion (StackOverflowError)</summary>
<div markdown="1">
  
  - @JsonIgnoreProperties ì‚¬ìš©ìœ¼ë¡œ í•´ê²°
    - ì°¸ê³ 
        - [http://springquay.blogspot.com/2016/01/new-approach-to-solve-json-recursive.html](http://springquay.blogspot.com/2016/01/new-approach-to-solve-json-recursive.html)
        - [https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue](https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue)
        
</div>
</details>  
    
<details>
<summary> H2 ì ‘ì†ë¬¸ì œ</summary>
<div markdown="1">
  
  - H2ì˜ JDBC URLì´ jdbc:h2:~/test ìœ¼ë¡œ ë˜ì–´ìˆìœ¼ë©´ jdbc:h2:mem:testdb ìœ¼ë¡œ ë³€ê²½í•´ì„œ ì ‘ì†í•´ì•¼ í•œë‹¤.
        
</div>
</details> 
    
<details>
<summary> ì»¨í…ì¸ ìˆ˜ì • ëª¨ë‹¬ì°½ì—ì„œ íƒœê·¸ ì…€ë ‰íŠ¸ë°•ìŠ¤ ë“œëë‹¤ìš´ì´ ë’¤ìª½ì— ë³´ì´ëŠ” ë¬¸ì œ</summary>
<div markdown="1">
  
   - ElementUIì˜ Global Configì— ì˜µì…˜ ì¶”ê°€í•˜ë©´ í•´ê²°
     - main.js íŒŒì¼ì— `Vue.us(ElementUI, { zIndex: 9999 });` ì˜µì…˜ ì¶”ê°€(9999 ì´í•˜ë©´ ì•ˆëŒ)
   - ì°¸ê³ 
     - [https://element.eleme.io/#/en-US/component/quickstart#global-config](https://element.eleme.io/#/en-US/component/quickstart#global-config)
        
</div>
</details> 

<details>
<summary> HTTP delete Requestì‹œ ê°œë°œìë„êµ¬ì˜ XHR(XMLHttpRequest )ì—ì„œ deleteìš”ì²­ì´ 2ë²ˆì”© ì°íˆëŠ” ì´ìœ </summary>
<div markdown="1">
  
  - When you try to send a XMLHttpRequest to a different domain than the page is hosted, you are violating the same-origin policy. However, this situation became somewhat common, many technics are introduced. CORS is one of them.

        In short, server that you are sending the DELETE request allows cross domain requests. In the process, there should be a **preflight** call and that is the **HTTP OPTION** call.

        So, you are having two responses for the **OPTION** and **DELETE** call.

        see [MDN page for CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS).

    - ì¶œì²˜ : [https://stackoverflow.com/questions/35808655/why-do-i-get-back-2-responses-of-200-and-204-when-using-an-ajax-call-to-delete-o](https://stackoverflow.com/questions/35808655/why-do-i-get-back-2-responses-of-200-and-204-when-using-an-ajax-call-to-delete-o)
        
</div>
</details> 

<details>
<summary> ì´ë¯¸ì§€ íŒŒì‹± ì‹œ og:image ê²½ë¡œê°€ ë‹¬ë¼ì„œ ì œëŒ€ë¡œ íŒŒì‹±ì´ ì•ˆë˜ëŠ” ê²½ìš°</summary>
<div markdown="1">
  
  - UserAgent ì„¤ì •ìœ¼ë¡œ í•´ê²°
        - [https://www.javacodeexamples.com/jsoup-set-user-agent-example/760](https://www.javacodeexamples.com/jsoup-set-user-agent-example/760)
        - [http://www.useragentstring.com/](http://www.useragentstring.com/)
        
</div>
</details> 
    
<details>
<summary> êµ¬ê¸€ ë¡œê·¸ì¸ìœ¼ë¡œ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì´ ìŠ¤í”„ë§ 2.0ëŒ€ ë²„ì „ì—ì„œ ë‹¬ë¼ì§„ ê²ƒ</summary>
<div markdown="1">
  
  - 1.5ëŒ€ ë²„ì „ì—ì„œëŠ” Controllerì˜ ì¸ìë¡œ Principalì„ ë„˜ê¸°ë©´ principal.getName(0ì—ì„œ ë°”ë¡œ êº¼ë‚´ì„œ ì“¸ ìˆ˜ ìˆì—ˆëŠ”ë°, 2.0ëŒ€ ë²„ì „ì—ì„œëŠ” principal.getName()ì˜ ê²½ìš° principal ê°ì²´.toString()ì„ ë°˜í™˜í•œë‹¤.
    - 1.5ëŒ€ ë²„ì „ì—ì„œ principalì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
    - ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©í–ˆë‹¤ë©´,

    ```jsx
    @RequestMapping("/sso/user")
    @SuppressWarnings("unchecked")
    public Map<String, String> user(Principal principal) {
        if (principal != null) {
            OAuth2Authentication oAuth2Authentication = (OAuth2Authentication) principal;
            Authentication authentication = oAuth2Authentication.getUserAuthentication();
            Map<String, String> details = new LinkedHashMap<>();
            details = (Map<String, String>) authentication.getDetails();
            logger.info("details = " + details);  // id, email, name, link etc.
            Map<String, String> map = new LinkedHashMap<>();
            map.put("email", details.get("email"));
            return map;
        }
        return null;
    }
    ```

    - 2.0ëŒ€ ë²„ì „ì—ì„œëŠ”
    - ì•„ë˜ì™€ ê°™ì´ principal ê°ì²´ì˜ ë‚´ìš©ì„ êº¼ë‚´ ì“¸ ìˆ˜ ìˆë‹¤.

    ```jsx
    UsernamePasswordAuthenticationToken token =
                    (UsernamePasswordAuthenticationToken) SecurityContextHolder
                            .getContext().getAuthentication();
            Map<String, Object> map = (Map<String, Object>) token.getPrincipal();

            String email = String.valueOf(map.get("email"));
            post.setMember(memberRepository.findByEmail(email));
    ```
        
</div>
</details> 
    
<details>
<summary> ë­í‚¹ ë™ì ì ì²˜ë¦¬ ë¬¸ì œ</summary>
<div markdown="1">
  
  - PageRequestì˜ Sortë¶€ë¶„ì—ì„œ propertiesë¥¼ "rankPoint"ë¥¼ ì£¼ê³  "likeCnt"ë¥¼ ì¤˜ì„œ ëŒ“ê¸€ìˆ˜ë³´ë‹¤ ì¢‹ì•„ìš”ìˆ˜ê°€ ìš°ì„ ìˆœìœ„ ê°–ë„ë¡ ì„¤ì •.
  - ì¢‹ì•„ìš” ìˆ˜ë„ ë˜‘ê°™ë‹¤ë©´..........
        
</div>
</details> 
    
</br>

## 8. í”„ë¡œì íŠ¸ í›„ê¸°
 ì›¹ ê°œë°œì„ ë°°ìš°ë©´ì„œ MVC íŒ¨í„´ì„Â ì–´ë ¤ì›Œí–ˆë‹¤. 1 Model, 2 ModelÂ ë‘˜ ë‹¤Â ê³µë¶€í•˜ë©´ì„œ ì „í˜€ ê°ì„ ì¡ì§€ ëª»í•˜ê³  ìˆì—ˆë‹¤. ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ í™œìš©ëœ ê²ƒì€ MVC 2 Modelì´ì—ˆë‹¤. í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ì¡°ì›ë“¤ì˜ ë„ì›€ë„ ì •ë§ ë§ì´ ë°›ì•˜ê³  ìˆ˜ë§ì€ ì˜¤ë¥˜ì™€ ìˆ˜ì • ê·¸ë¦¬ê³  ë°˜ë³µì ìœ¼ë¡œ ë³´ê²Œ ë˜ëŠ” í˜•ì‹ë“¤ ë•ë¶„ì— MVC 2 Modelì— ëŒ€í•´ì„œ ì°¨ì¸° ì´í•´í•˜ê³  íë¦„ê¹Œì§€ ë³¼ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ê·¸ë¦¬ê³  ì•„ì§ ë¶€ì¡±í•œÂ ë¶€ë¶„ì€ ê³„ì†í•´ì„œ ê³µë¶€í•˜ë©´ì„œ ì±„ì›Œë‚˜ê°ˆ ê²ƒì´ë‹¤.

  <br>
  
 ë¶€ì¡±í•œ ì‹¤ë ¥ì´ì§€ë§Œ ì •ë§ ì—´ì‹¬íˆ í–ˆë‹¤. í”„ë¡œì íŠ¸ê°€ ëë‚˜ê³  ì ì‹œ ê³µí—ˆí•¨ì´ ì˜¬ ì •ë„ë¡œ ìµœì„ ì„ ë‹¤í–ˆë‹¤. ë¬´ì—‡ë³´ë‹¤ íŒ€ì›ë“¤ê³¼ ê°ˆë“± ì—†ì´ í–‰ë³µí•˜ê²Œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í–ˆë˜ ê²ƒì´ ë„ˆë¬´ë‚˜ë„ ì¢‹ì€ ê¸°ì–µìœ¼ë¡œ ë‚¨ì•˜ë‹¤. íŒŒíŠ¸ë¥¼ ë‚˜ëˆ  í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ì˜€ì§€ë§Œ ì„œë¡œ ì–´ë ¤ìš´ ë¶€ë¶„ì´ ìˆìœ¼ë©´ ë„ì™€ì£¼ë©° í•´ê²°í•´ë‚˜ê°”ë‹¤.

 ê·¸ê±° ì•„ëŠ”ê°€? í˜¼ì í•´ëƒˆì„ ë•Œë³´ë‹¤ ê°™ì´ í•´ëƒˆì„ ë•Œê°€ ë” ì§œë¦¿í•˜ë‹¤ëŠ” ê²ƒì„! ì„±ì·¨ê°! ì„±ì·¨ê°ì€ ë‚˜ë¥¼ ì›€ì§ì´ë©° ê·¸ ì„±ì·¨ê°ì€ 'ìš°ë¦¬'ì—ì„œ ì˜¨ë‹¤. ì´ë²ˆ í”„ë¡œì íŠ¸ ê²°ê³¼ë„ ê³¼ì •ë„ ëª¨ë‘ ë§Œì¡±ìŠ¤ëŸ½ê³  ì„±ê³µì ì´ì—ˆë‹¤.
  
<br>
  
> í”„ë¡œì íŠ¸ ê°œë°œ ê´€ë ¨ ê¸€: [ìš°ë¦¬ëŠ” í•´í”¼í•˜ì¡° - ì›¹ í˜ì´ì§€ ê°œë°œ í”„ë¡œì íŠ¸](https://velog.io/@jack_whiteblack/%EC%9A%B0%EB%A6%AC%EB%8A%94-%ED%95%B4%ED%94%BC%ED%95%98%EC%A1%B0-%EC%9B%B9-%ED%8E%98%EC%9D%B4%EC%A7%80-%EA%B0%9C%EB%B0%9C-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8)
